@if(viewUserForm) {
<app-user-form
  [formPurpose]="'Update'"
  [user]="userToUpdate"
  (cancelForm)="viewUserForm = false"
></app-user-form>
} @if(showDeleteConfirm) {
<div class="modal-overlay" (click)="closeDeleteConfirm()">
  <div class="confirmation-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Confirm Delete</h3>
    </div>
    <div class="modal-body">
      <p>
        Are you sure you want to delete <strong>{{ userToDelete?.name }}</strong
        >?
      </p>
      <p>This action cannot be undone.</p>
    </div>
    <div class="modal-actions">
      <button class="btn btn-cancel" (click)="closeDeleteConfirm()">No</button>
      <button class="btn btn-confirm" (click)="confirmDelete()">Yes</button>
    </div>
  </div>
</div>
}

<div class="table-container">
  <table class="users-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (item of filteredUsers(); track $index) {
      <tr>
        <td>{{ item.id }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.email }}</td>
        <td>
          <div class="action-buttons">
            <button class="btn btn-edit" (click)="onEditUser(item)">
              Edit
            </button>
            <button class="btn btn-delete" (click)="onClickDelete(item.id)">
              Delete
            </button>
          </div>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
